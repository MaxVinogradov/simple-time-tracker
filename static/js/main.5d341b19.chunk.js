(this["webpackJsonpsimple-time-tracker"]=this["webpackJsonpsimple-time-tracker"]||[]).push([[0],{240:function(e,t,a){e.exports=a(426)},426:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(15),l=a.n(c),i=a(44),o=a(49),s=a(34),u=a(205),m=a(26),d=a(38),f=a(206),p=a(191),E=a(192),b=a.n(E),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:80;return 6e3*Math.floor(Math.random()*e+10)},k=function(){var e,t=15-Math.ceil(100*Math.random())%5,a=(new Date).setHours(0,0,0,0).valueOf()+v(1200);return Array(t).fill(null).map((function(){a+=v();var t=v();e=a+t;var n="f".concat((~~(1e8*Math.random())).toString(16)),r={id:n,name:"Auto-generated task #".concat(n),startTime:new Date(a),duration:t,endTime:new Date(e)};return a=e+v(1200),r}))},h={tasks:[],currentTask:{duration:0}},T=Object(d.combineReducers)({tasksStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STOP_TIMER":return Object(m.a)({},e,{currentTask:{duration:0},tasks:[].concat(Object(u.a)(e.tasks),[Object(m.a)({},t.currentTask)])});case"START_TIMER":return Object(m.a)({},e,{currentTask:t.currentTask});case"DELETE_TASK":return Object(m.a)({},e,{tasks:e.tasks.filter((function(e){return e.id!==t.tasksIdToRemove}))});case"GENERATE_TASK":return Object(m.a)({},e,{tasks:k()});case"LOAD_STORE":return Object(m.a)({},e,{currentTask:t.currentTask,tasks:t.tasks});case"RESET_STORE":return Object(m.a)({},h);default:return Object(m.a)({},e)}}}),g=Object(f.a)(),O=Object(d.createStore)(T,Object(p.composeWithDevTools)(Object(d.applyMiddleware)(b.a,g)));O.runSaga=g.run;var j=O,S=a(32),w=a.n(S),y=a(57),x=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}},D=function(e){return localStorage.setItem("state",JSON.stringify(e))},R=w.a.mark(M),C=w.a.mark(_),I=w.a.mark(L),N=w.a.mark(W),A=w.a.mark(K);function M(){var e,t,a,n,r;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if((e=x())&&e.tasksStore){c.next=6;break}return c.next=4,Object(y.b)({type:"LOAD_STORE",tasks:[],currentTask:{duration:0}});case 4:c.next=13;break;case 6:return(t=e.tasksStore).tasks=t.tasks.map((function(e){var t=e.id,a=e.name,n=e.duration,r=e.startTime,c=e.endTime;return{id:t,name:a,duration:n,startTime:new Date(r),endTime:new Date(c)}})),a=t.currentTask,n=a.startTime,r=a.endTime,t.currentTask.startTime=n&&new Date(n),t.currentTask.endTime=r&&new Date(r),c.next=13,Object(y.b)(Object(m.a)({type:"LOAD_STORE"},t));case 13:case"end":return c.stop()}}),R)}function _(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.d)("LOAD_STORE_REQUEST",M);case 2:case"end":return e.stop()}}),C)}function L(){var e;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.c)((function(e){return e}));case 2:e=t.sent,D(e);case 4:case"end":return t.stop()}}),I)}function W(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.d)("DUMP_STORE_REQUEST",L);case 2:case"end":return e.stop()}}),N)}function K(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([_(),W()]);case 2:case"end":return e.stop()}}),A)}var B=a(427),z=a(458);function G(){var e=Object(o.g)();return r.a.createElement(B.a,null,r.a.createElement("h2",null,"Page not found!"),r.a.createElement(z.a,{onClick:function(){return e.push("/tasks")}},"Go to tasks page"))}var J=a(460),P=a(461),F=a(462),H=a(463),U=a(75),Q=function(e){return e<10?"0".concat(e):"".concat(e)},X=function(e){var t=Math.floor(e/36e5),a=Math.floor(60*(e/36e5-t)),n=Math.floor(60*(60*(e/36e5-t)-a));return"".concat(Q(t),":").concat(Q(a),":").concat(Q(n))},Y=a(459),$=Object(Y.a)((function(e){return{alignItemsAndJustifyContent:{width:500,alignSelf:"center",margin:"20px auto 20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxShadow:e.shadows[6]}}}));var q=Object(s.b)((function(e){return{tasks:e.tasksStore.tasks}}))((function(e){var t=e.tasks,a=$(),n=Object(o.h)().id,c=Object(o.g)(),l=t.find((function(e){var t=e.id;return n===t}));if(!l)return c.push("/404");var i=l.id,s=l.name,u=l.duration,m=l.startTime,d=l.endTime;return r.a.createElement(B.a,{className:a.alignItemsAndJustifyContent},r.a.createElement("h2",null,"Task"),r.a.createElement(J.a,{component:"nav","aria-label":"mailbox folders"},r.a.createElement(P.a,{divider:!0},r.a.createElement(F.a,{primary:"ID: ".concat(i)})),r.a.createElement(H.a,null),r.a.createElement(P.a,{divider:!0},r.a.createElement(F.a,{primary:"Name: ".concat(s)})),r.a.createElement(H.a,null),r.a.createElement(P.a,{divider:!0},r.a.createElement(F.a,{primary:"Start time: ".concat(m.toTimeString().split(" ")[0])})),r.a.createElement(H.a,null),r.a.createElement(P.a,{divider:!0},r.a.createElement(F.a,{primary:"End time: ".concat(d.toTimeString().split(" ")[0])})),r.a.createElement(H.a,null),r.a.createElement(P.a,{divider:!0},r.a.createElement(F.a,{primary:"Duration: ".concat(X(u))})),r.a.createElement(H.a,null),r.a.createElement(P.a,{button:!0,onClick:function(){return c.push("/tasks")}},r.a.createElement(F.a,{primary:r.a.createElement(U.a,{type:"body2",style:{color:"#d32f2f"}},"Go to tasks page")}))))})),V=a(105),Z=a(477),ee=a(464),te=a(480),ae=a(465),ne=a(466),re=a(467),ce=a(468),le=Object(Y.a)((function(e){return{dialogTitle:{color:e.palette.error.main}}})),ie=Object(n.forwardRef)((function(e,t){return r.a.createElement(ee.a,Object.assign({direction:"up",ref:t},e))})),oe=function(e){var t=e.dialogOpen,a=e.setDialogOpen,n=e.taskNameInputRef;return r.a.createElement(te.a,{open:t,TransitionComponent:ie,keepMounted:!0,onClose:function(){return a(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(ae.a,{id:"alert-dialog-slide-title"},r.a.createElement("span",{className:le().dialogTitle},"Empty task name")),r.a.createElement(ne.a,null,r.a.createElement(re.a,{id:"alert-dialog-slide-description"},"You are trying close your task without name, enter the title and try again!")),r.a.createElement(ce.a,null,r.a.createElement(z.a,{onClick:function(){n.current.disabled=!1,a(!1)},color:"primary"},"Close")))},se=Object(Y.a)((function(e){return{timerContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",margin:"0 0 30px 0",padding:"20px 0 0 0"},timerClock:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:"50%",boxShadow:e.shadows[6],width:"200px",height:"200px",margin:"30px",color:e.palette.primary.main,fontWeight:e.typography.fontWeightBold,fontSize:e.typography.h4.fontSize},stopBtn:{boxShadow:e.shadows[5]},taskNameInput:{textAlign:"center",color:e.palette.primary.main}}})),ue=Object(s.b)((function(e){var t=e.tasksStore;return{tasks:t.tasks,currentTask:t.currentTask}}),{startTimer:function(e){return{type:"START_TIMER",currentTask:e}},stopTimer:function(e){return{type:"STOP_TIMER",currentTask:e}}})(Object(n.memo)((function(e){var t=e.currentTask,a=e.startTimer,c=e.stopTimer,l=se(),i=Object(n.useRef)(null),o=Object(n.useRef)({value:0}),s=Object(n.useState)(t.id?(new Date).valueOf()-t.startTime.valueOf():0),u=Object(V.a)(s,2),d=u[0],f=u[1],p=Object(n.useState)(t.id?"Stop":"Start"),E=Object(V.a)(p,2),b=E[0],v=E[1],k=Object(n.useState)(!1),h=Object(V.a)(k,2),T=h[0],g=h[1];Object(n.useEffect)((function(){var e=o.current.value,a=t.id,n=t.startTime,r=t.name;return a&&(o.current.value=setInterval((function(){f((new Date).valueOf()-n.valueOf())}),1e3),i.current.value=r||""),function(){return clearInterval(e)}}),[t,o]);var O=Object(n.useCallback)((function(){if("Start"===b){var e=new Date;a({duration:0,startTime:e,name:i.current.value,id:"f".concat((~~(1e8*Math.random())).toString(16))}),v("Stop"),o.current.value=setInterval((function(){return f((new Date).valueOf()-e.valueOf())}),1e3)}else{if(""===i.current.value)return void g(!0);clearInterval(o.current.value);var n=new Date;c(Object(m.a)({},t,{endTime:n,duration:n-t.startTime,name:i.current.value})),i.current.value="",i.current.disabled=!1,f(0),v("Start")}}),[b,t,a,c]);return r.a.createElement("div",{className:l.timerContainer},r.a.createElement(Z.a,{className:l.taskNameInput,InputProps:{className:l.taskNameInput},placeholder:"Name of your task",autoFocus:!0,inputRef:i}),r.a.createElement("div",{className:l.timerClock,"data-test-id":"timer-clock-face"},X(d)),r.a.createElement(z.a,{color:"primary",size:"large",className:l.stopBtn,onClick:O,"data-test-id":"timer-button"},b),r.a.createElement(oe,{dialogOpen:T,setDialogOpen:g,taskNameInputRef:i}))}))),me=a(476),de=a(478),fe=Object(Y.a)((function(e){return{infoTabsContainer:{width:"70%",backgroundColor:e.palette.background.paper}}}));var pe=a(40),Ee=function(e){return function(e){return Array(24).fill(0).map((function(t,a){var n=(new Date).setHours(a,0,0,0),r=(new Date).setHours(a,59,59,999);return e.reduce((function(e,t){var a=t.startTime,c=t.endTime,l=a.valueOf()>n?a.valueOf():n,i=(r>c.valueOf()?c.valueOf():r)-l;return e+(i<0?0:Math.floor(i/6e4))}),0)}))}(e).map((function(e,t){return{name:t,minutes:e}}))},be=Object(Y.a)((function(e){return{chartContainer:{display:"flex",flexDirection:"column"},chart:{alignSelf:"center"},generateButton:{width:"100px",alignSelf:"flex-end",boxShadow:e.shadows[6]},customXAxis:{marginTop:"50px"}}}));var ve=Object(s.b)((function(e){return{tasks:e.tasksStore.tasks}}),{generateTasks:function(){return{type:"GENERATE_TASK"}}})(Object(n.memo)((function(e){var t=e.tasks,a=e.generateTasks,n=be(),c=Ee(t);return r.a.createElement("div",{className:n.chartContainer},r.a.createElement(pe.b,{width:950,height:400,data:c,className:n.chart,margin:{top:15,right:0,left:0,bottom:10}},r.a.createElement(pe.c,{strokeDasharray:"5 5"}),r.a.createElement(pe.g,{dataKey:"name"},r.a.createElement(pe.d,{value:"Minutes in this hours",position:"center",offset:50})),r.a.createElement(pe.h,{type:"number",domain:[0,60]}),r.a.createElement(pe.f,null),r.a.createElement(pe.e,null),r.a.createElement(pe.a,{dataKey:"minutes",fill:"#3f51b5"})),r.a.createElement(z.a,{color:"primary",size:"large",className:n.generateButton,onClick:function(){return a()}},"GENERATE"))}))),ke=a(469),he=a(470),Te=a(471),ge=a(472),Oe=a(473),je=a(474),Se=Object(Y.a)((function(e){return{btnWithShadow:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5]},customTr:{backgroundColor:"#EAF6FF"}}}));var we=Object(s.b)((function(e){return{tasks:e.tasksStore.tasks}}),{deleteTask:function(e){return{type:"DELETE_TASK",tasksIdToRemove:e}}})(Object(n.memo)((function(e){var t=e.tasks,a=e.deleteTask,c=Se(),l=Object(o.g)(),i=Object(n.useCallback)((function(e){return function(){return a(e)}}),[a]),s=Object(n.useCallback)((function(e){return function(){return l.push("/tasks/".concat(e))}}),[l]);return r.a.createElement(ke.a,null,r.a.createElement(he.a,{className:c.table},r.a.createElement(Te.a,null,r.a.createElement(ge.a,null,r.a.createElement(Oe.a,null,"\u2116"),r.a.createElement(Oe.a,{align:"center"},"Task"),r.a.createElement(Oe.a,{align:"center"},"Task start"),r.a.createElement(Oe.a,{align:"center"},"Task end"),r.a.createElement(Oe.a,{align:"center"},"Time spend"),r.a.createElement(Oe.a,{align:"center"},"Info"),r.a.createElement(Oe.a,{align:"center"},"Delete"))),r.a.createElement(je.a,null,t.length>0?t.map((function(e,t){var a=e.id,n=e.name,l=e.duration,o=e.startTime,u=e.endTime;return r.a.createElement(ge.a,{key:a,className:c.customTr},r.a.createElement(Oe.a,null,t),r.a.createElement(Oe.a,{align:"center"},n),r.a.createElement(Oe.a,{align:"center"},o.toTimeString().split(" ")[0]),r.a.createElement(Oe.a,{align:"center"},u.toTimeString().split(" ")[0]),r.a.createElement(Oe.a,{align:"center"},X(l)),r.a.createElement(Oe.a,{align:"center"},r.a.createElement(z.a,{size:"large",className:c.btnWithShadow,onClick:s(a)},"Info")),r.a.createElement(Oe.a,{align:"center"},r.a.createElement(z.a,{size:"large",className:c.btnWithShadow,onClick:i(a)},"Delete")))})):r.a.createElement("p",{"data-test-id":"empty-table-paragraph"},"Table Empty"))))}))),ye=a(103),xe=function(e){var t=e.children,a=e.value,n=e.index,c=Object(ye.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n)},c),t)},De=a(475),Re=Object(n.forwardRef)((function(e,t){return r.a.createElement(i.b,Object.assign({innerRef:t},e))})),Ce=function(e){var t=e.to,a=e.value,n=Object(ye.a)(e,["to","value"]);return r.a.createElement(De.a,Object.assign({component:Re,to:null!==t&&void 0!==t?t:a,value:a},n))};var Ie=Object(n.memo)((function(){var e=function(e,t){var a,n=Object(o.i)(e);return null!==(a=null===n||void 0===n?void 0:n.path)&&void 0!==a?a:t}(["/tasks","/chart"],"/tasks"),t=fe();return r.a.createElement("div",{className:t.infoTabsContainer},r.a.createElement(me.a,{position:"static"},r.a.createElement(de.a,{variant:"fullWidth",value:e},r.a.createElement(Ce,{value:"/tasks",label:"TASKS LOG"}),r.a.createElement(Ce,{value:"/chart",label:"TASKS CHART"}))),r.a.createElement(xe,{value:e,index:"/tasks"},r.a.createElement(we,null)),r.a.createElement(xe,{value:e,index:"/chart"},r.a.createElement(ve,null)))})),Ne=Object(Y.a)((function(){return{app:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100hv",margin:0,border:0}}}));function Ae(){var e=Ne();return r.a.createElement("div",{className:e.app},r.a.createElement(ue,null),r.a.createElement(Ie,null))}j.runSaga(K,j.dispatch),j.dispatch({type:"LOAD_STORE_REQUEST"}),window.Cypress&&(window.store=j);var Me=function(){return Object(n.useEffect)((function(){window.addEventListener("beforeunload",(function(e){e.preventDefault(),D(j.getState())}))}),[]),r.a.createElement(s.a,{store:j},r.a.createElement(i.a,{basename:"/simple-time-tracker"},r.a.createElement(o.d,null,r.a.createElement(o.a,{from:"/",to:"/tasks",exact:!0}),r.a.createElement(o.b,{path:["/tasks","/chart"],exact:!0},r.a.createElement(Ae,null)),r.a.createElement(o.b,{path:"/tasks/:id",exact:!0},r.a.createElement(q,null)),r.a.createElement(o.b,{path:"/404",component:G,exact:!0}),r.a.createElement(o.a,{to:"/404"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[240,1,2]]]);
//# sourceMappingURL=main.5d341b19.chunk.js.map